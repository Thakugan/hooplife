<div class="container-fluid" id="userPublic">
	<div class="card mt-3">
		<div class="card-block">
			<div class="row">
				<div class="col-md-4">
					<img class="img-fluid" src="http://via.placeholder.com/500x500" alt="my beautiful face">
				</div>
				<div class="col-md-8">
					<h3 class="mt-3 lead username">{{user.username + '  (' + user.firstName + ' ' + user.lastName + ')'}}</h3>
					<rating [ratingValue]="user.rating"></rating>
					<hr class="mr-3"/>
					<p class="mr-3">Average User Rating: {{user.rating}} / 5</p>
					<p class="mr-3">Year: {{user.year}}</p>
					<p class="mr-3">Rank: {{user.rank}}</p>
					<p class="mr-3">Games Played: {{user.gamesPlayed}}</p>
					<p class="mr-3">Win/loss: {{user.wins + ' / ' + user.losses}}</p>
					<p class="mr-3">Email: {{user.email}}</p>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="card mt-3">
				<div class="card-header">
					<rating [ratingValue]="0" (onRated)="processRating($event)"></rating>
					<p class="mt-2 float-right" *ngIf="!hasRated">If you would like to comment, please rate this user first</p>
				</div>
				<div class="card-body" *ngIf="hasRated && !hasCommented">
					<div class="form-group">
						<label for="commentInput">Comment</label>
						<textarea class="form-control" id="commentInput" rows="3" required [(ngModel)]="newComment.commentText"></textarea>
					</div>
					<div class="form-check">
					  <label class="form-check-label">
					    <input class="form-check-input" type="radio" id="showRatingRadio" value="showRating" checked [(ngModel)]="newComment.showRating">
					    	Show Rating
					  </label>
					</div>
					<button type="submit" class="btn btn-primary" (click)="addComment()"> 
						Submit
					</button>
				</div>
			</div>	
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="card mt-3 mb-3" id="comment-section">
				<div class="card-header" id="commentHeader" (click)="displayComments=!displayComments">
					<p class="text-center comments-indicator">Comments ({{user.comments.length}})</p>
					<p class="text-center arrow-down"></p>
				</div>

				<div class="card-body pb-3" id="noCommentsDialog" *ngIf="user.comments.length < 1">
					<p>Be the first to write a comment!</p>
				</div>

				<div class="card-body pb-3" id="CommentList" *ngIf="displayComments">
					<div *ngFor="let com of user.comments">
						<comment-block [comment]="com"></comment-block>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
